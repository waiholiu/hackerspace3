- content_for :title, 'Complete Account Registration'
%main.registration.single-col.edit-account
  %h2= yield :title
  %section
    = form_with model: @user, url: complete_registration_update_users_path, method: :patch do |form|
      .field
        = form.label :full_name
        = form.text_field :full_name
      .field
        = form.label :preferred_name
        = form.text_field :preferred_name
      .field
        = form.label :organisation_name
        = form.text_field :organisation_name
      .field
        = form.label :phone_number
        = telephone_field(:user, :phone_number)
      .field
        = form.label :region
        = form.select :region,                                                 |
          options_for_select(User.regions.keys.sort, selected: @user.region), |
          include_blank: true
      .field
        = form.label :twitter
        = form.text_field :twitter
      .field
        = form.label :slack
        = form.text_field :slack
      .field
        = form.label :under_18
        = form.check_box :under_18, |
          checked: @user.under_18
      .field
        = form.label :mailing_list
        = form.check_box :mailing_list, checked: @user.mailing_list
      .field
        = form.label :challenge_sponsor_contact_place
        = form.check_box :challenge_sponsor_contact_place, |
          checked: @user.challenge_sponsor_contact_place
      .field
        = form.label :challenge_sponsor_contact_enter
        = form.check_box :challenge_sponsor_contact_enter, |
          checked: @user.challenge_sponsor_contact_enter
      .field
        = form.label :my_project_sponsor_contact
        = form.check_box :my_project_sponsor_contact, |
          checked: @user.my_project_sponsor_contact
      .field
        = form.label :me_govhack_contact
        = form.check_box :me_govhack_contact, checked: @user.me_govhack_contact
      .field
        = form.label :how_did_you_hear
        = form.text_field :how_did_you_hear
        = hidden_field_tag(:account_registration, true)
      %article
        %strong
          GovHack values diversity and inclusion. The following fields are
          completely optional and are used strictly for reporting on our progress
          in making GovHack inclusive for all. You may choose to skip some or all
          of the questions. We would be grateful for any answers you do provide
          and these are stored securely and will not be passed onto a third party
          except in aggregated, de-identified form.
      .field
        = form.label :gender
        = form.text_field :gender
      .field
        = form.label :first_peoples
        = form.select :first_peoples, |
          options_for_select(User.first_peoples.keys, selected: @user.first_peoples), |
          include_blank: true
      .field
        = form.label :disability
        = form.select :disability, |
          options_for_select(User.disabilities.keys, selected: @user.disability), |
          include_blank: true
      .field
        = form.label :education
        = form.select :education, |
          options_for_select(User.educations.keys, selected: @user.education), |
          include_blank: true
      .field
        = form.label :employment
        = form.select :employment, |
          options_for_select(User.employments.keys, selected: @user.employment), |
          include_blank: true
      .field
        = form.label :age
        = form.select :age, |
          options_for_select(User.ages.keys, selected: @user.age), |
          include_blank: true
      .field
        = form.label :postcode
        = form.text_field :postcode
      .actions
        = form.submit 'Complete Registration'
